#
# -*- coding: utf-8 -*-

import logging
import os
import asyncio
import threading

try:
    import aiohttp.web
except ImportError:
    aiohttp = None
from http.server import BaseHTTPRequestHandler, HTTPServer

# ---------------------- –í–°–¢–ê–í–ö–ê: –ü—Ä–æ—Å—Ç–æ–π HTTP-—Å–µ—Ä–≤–µ—Ä ----------------------
#
# –≠—Ç–æ—Ç –∫–æ–¥ –∑–∞–ø—É—Å–∫–∞–µ—Ç –º–∞–ª–µ–Ω—å–∫–∏–π HTTP-—Å–µ—Ä–≤–µ—Ä –Ω–∞ –ø–æ—Ä—Ç—É –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –æ–∫—Ä—É–∂–µ–Ω–∏—è PORT.
# Render –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–∞—ë—Ç PORT, –∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —ç—Ç–æ–º—É —Å–µ—Ä–≤–µ—Ä ¬´—É–≤–∏–¥–∏—Ç¬ª –æ—Ç–∫—Ä—ã—Ç—ã–π –ø–æ—Ä—Ç,
# –Ω–µ –∑–∞–≤–µ—Ä—à–∏—Ç Web Service —Å –æ—à–∏–±–∫–æ–π ¬´no open ports detected¬ª.
#
class SimpleHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        # –í—Å–µ–≥–¥–∞ –æ—Ç–≤–µ—á–∞–µ–º 200 OK
        self.send_response(200)
        self.send_header("Content-Type", "text/plain; charset=utf-8")
        self.end_headers()
        self.wfile.write(b"OK")

def start_http_server():
    port = int(os.environ.get("PORT", "8080"))
    server = HTTPServer(("0.0.0.0", port), SimpleHandler)
    server.serve_forever()

# –ó–∞–ø—É—Å–∫–∞–µ–º HTTP-—Å–µ—Ä–≤–µ—Ä –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º –ø–æ—Ç–æ–∫–µ, —á—Ç–æ–±—ã –Ω–µ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –±–æ—Ç–∞
threading.Thread(target=start_http_server, daemon=True).start()
# ------------------------------------------------------------------------------

import sys, logging
from pathlib import Path

import asyncio
try:
    import aiohttp.web
except ImportError:
    aiohttp = None

from dotenv import load_dotenv
from telegram import (
    Update,
    InlineKeyboardButton,
    InlineKeyboardMarkup,
    ReplyKeyboardRemove,
)
from telegram.ext import (
    Application,
    CommandHandler,
    CallbackQueryHandler,
    ConversationHandler,
    ContextTypes,
    MessageHandler,
    filters,
)
from telegram.error import BadRequest

# Logging
logging.basicConfig(
    stream=sys.stdout,
    level=logging.INFO,
    format="%(asctime)s %(name)s %(levelname)s: %(message)s",
)

# Load environment
load_dotenv()
TOKEN = os.getenv("BOT_TOKEN")
CHANNEL_LINK = os.getenv("CHANNEL_LINK", "https://t.me/digitaI_age")
CHANNEL_ID = os.getenv("CHANNEL_ID", "@digitaI_age")

# –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —Ä–æ—Å—Ç—É (—á–µ–∫-–ª–∏—Å—Ç)
RECOMMENDATIONS = {
    "–ù–∞—á–∏–Ω–∞—é—â–∏–π (–Ω–∏–∂–µ Junior)": [
        "–¢–∏ —â–æ–π–Ω–æ –ø–æ—á–∞–≤ —Å–≤—ñ–π —à–ª—è—Ö —É —Å–≤—ñ—Ç—ñ –¥–∏–∑–∞–π–Ω—É. –ù–∞–≤—á–∏–≤—Å—è –±–∞–∑–æ–≤–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ ‚Äì –∑–Ω–∞—î—à –æ—Å–Ω–æ–≤–∏ —Ä–æ–±–æ—Ç–∏ –≤ Figma —á–∏ Sketch, –≤–º—ñ—î—à —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –º–∞–∫–µ—Ç–∏ –∑–∞ –≥–æ—Ç–æ–≤–∏–º–∏ –≥–∞–π–¥–ª–∞–π–Ω–∞–º–∏, –∞–ª–µ —â–µ –Ω–µ –∑–Ω–∞—î—à, —è–∫ –∞—Ä–≥—É–º–µ–Ω—Ç—É–≤–∞—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è. –¢–≤–æ—ó –¥–∏–∑–∞–π–Ω–∏ —á–∞—Å—Ç–æ –ø–æ—Ç—Ä–µ–±—É—é—Ç—å –¥–æ–æ–ø—Ä–∞—Ü—é–≤–∞–Ω–Ω—è –≤—ñ–¥ —Å—Ç–∞—Ä—à–∏—Ö –∫–æ–ª–µ–≥: —Ç–∏ —ñ–Ω–æ–¥—ñ –Ω–µ –¥–æ—Ç—Ä–∏–º—É—î—à—Å—è –ø—Ä–∏–Ω—Ü–∏–ø—ñ–≤ –≤–∏—Ä—ñ–≤–Ω—é–≤–∞–Ω–Ω—è –∞–±–æ —Ä–æ–±–∏—à –µ–ª–µ–º–µ–Ω—Ç–∏ ¬´–Ω–∞ –æ–∫–æ¬ª. –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ —Å–∫–ª–∞–¥–∞—î—Ç—å—Å—è –∑ –∞–∫–∞–¥–µ–º—ñ—á–Ω–∏—Ö —á–∏ —Å—Ç—É–¥–µ–Ω—Ç—Å—å–∫–∏—Ö —Ä–æ–±—ñ—Ç: –∫—ñ–ª—å–∫–∞ —Å—Ç–∞—Ç–∏—á–Ω–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤ –±–µ–∑ –≥–ª–∏–±–æ–∫–∏—Ö –¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å –∞–±–æ –∞–¥–∞–ø—Ç–∏–≤–Ω–∏—Ö –≤–µ—Ä—Å—ñ–π. –ó–Ω—ñ–º–∞—î—à —á–∞—Å –Ω–∞ –ø–æ—à—É–∫ –≤–∞–∫–∞–Ω—Å—ñ–π: –≤—ñ–¥–≥—É–∫—É—î—à—Å—è –Ω–∞ –≤—Å—ñ –¥–∂—É–Ω–∏–æ—Ä-–ø–æ–∑–∏—Ü—ñ—ó –π —á–∞—Å—Ç–æ –æ—Ç—Ä–∏–º—É—î—à –≤—ñ–¥–º–æ–≤–∏, –∞–¥–∂–µ –≤–∏–º–∞–≥–∞—î—Ç—å—Å—è —Ö–æ—á –Ω–µ–≤–µ–ª–∏–∫–∏–π –ø—Ä–∞–∫—Ç–∏—á–Ω–∏–π –¥–æ—Å–≤—ñ–¥. "
        "–£ —Ç–≤–æ–º—É —Ä–æ–∑–ø–æ—Ä—è–¥–∂–µ–Ω–Ω—ñ —á–µ–∫-–ª—ñ—Å—Ç: –≤—ñ–¥–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –Ω–∞–≤–∏—á–∫–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è, –Ω–∞–≤—á–∏—Ç–∏—Å—è —Ä–æ–±–∏—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –∫–ª—ñ–∫–∞–±–µ–ª—å–Ω—ñ –º–∞–∫–µ—Ç–∏, –æ—Å–≤–æ—ó—Ç–∏ –≥–∞–π–¥–ª–∞–π–Ω–∏ –∫–æ–º–ø–∞–Ω—ñ–π (Apple, Google), –ø—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ –ø–µ—Ä—à–µ –∑–≥—ñ–¥–Ω–µ –∑ UX-–±–∞–∑–æ—é —Ä–µ–∑—é–º–µ —Ç–∞ –æ–Ω–æ–≤–∏—Ç–∏ –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –Ω–∞ Behance/Dribbble. –ü–æ–∫–∏ —â–æ —Ç–∏ —à—É–∫–∞—î—à –º–µ–Ω—Ç–æ—Ä—ñ–≤, –≤—ñ–¥–≤—ñ–¥—É—é—à –≤–µ–±—ñ–Ω–∞—Ä–∏ –∑ –¥–∏–∑–∞–π–Ω—É —Ç–∞ –≤–∏–∫–æ–Ω—É—î—à –∑–∞–≤–¥–∞–Ω–Ω—è –∑ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—ñ–≤. –¢–≤–æ—î –≥–æ–ª–æ–≤–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äì –¥–æ–≤–µ—Å—Ç–∏, —â–æ –≤–º—ñ—î—à –¥–æ–≤–æ–¥–∏—Ç–∏ –≤–ª–∞—Å–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è: –Ω–∞–≤—á–∏—Ç–∏—Å—è —Å–∫–ª–∞–¥–∞—Ç–∏ –∫–æ—Ä–æ—Ç–∫—ñ –∫–µ–π—Å–∏, –æ–ø–∏—Å—É–≤–∞—Ç–∏, —á–æ–º—É –≤–∏–±—Ä–∞–≤ –ø–µ–≤–Ω—É —Å—ñ—Ç–∫—É, –∫–æ–ª—ñ—Ä —ñ —à—Ä–∏—Ñ—Ç",
    ],
    "Junior": [
        "–¢–∏ –≤–∂–µ –º–∞—î—à –ø–µ—Ä—à–∏–π –¥–æ—Å–≤—ñ–¥ —É —Ä–µ–∞–ª—å–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–∞—Ö ‚Äì –º–æ–∂–ª–∏–≤–æ, —Å—Ç–∞–∂—É–≤–∞–Ω–Ω—è –≤ —Å—Ç—É–¥—ñ—ó –∞–±–æ —Ñ—Ä–∏–ª–∞–Ω—Å —ñ–∑ –¥—Ä—ñ–±–Ω–∏–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏. –í–ø–µ–≤–Ω–µ–Ω–æ –æ–ø–µ—Ä—É—î—à Figma: —Å—Ç–≤–æ—Ä—é—î—à –∞–≤—Ç–æ–ª–µ–π–∞—É—Ç–∏, –ø—Ä–∞—Ü—é—î—à —ñ–∑ –±–∞–∑–æ–≤–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —É—Ç–µ–ø–ª—é—î—à –º–∞–∫–µ—Ç–∏ –ø—Ä–æ—Å—Ç–∏–º–∏ –∞–Ω—ñ–º–∞—Ü—ñ—è–º–∏. –¢–≤–æ—î –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –º—ñ—Å—Ç–∏—Ç—å 3‚Äì5 –ø—Ä–æ—î–∫—Ç—ñ–≤: –∞–¥–∞–ø—Ç–∏–≤–Ω–∏–π –º–∞–∫–µ—Ç –ª–µ–Ω–¥–∏–Ω–≥—É, —Ä–µ–¥–∏–∑–∞–π–Ω –Ω–µ–≤–µ–ª–∏–∫–æ–≥–æ –¥–æ–¥–∞—Ç–∫–∞ —á–∏ –ø—Ä–æ—Å—Ç–∏–π UI-kit. –¢–∏ –≤–º—ñ—î—à –ø–æ—è—Å–Ω–∏—Ç–∏, —á–æ–º—É –≤–∏–±—Ä–∞–≤ —Ç–∞–∫—É –∫–æ–ª—ñ—Ä–Ω—É –≥–∞–º—É –∞–±–æ —á–æ–º—É –≤—Å—Ç–∞–Ω–æ–≤–∏–≤ –ø–µ–≤–Ω—É –≤—ñ–¥—Å—Ç–∞–Ω—å –º—ñ–∂ –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏. "
        "–í—Å–µ —â–µ –≤–∏–ø—Ä–∞–≤–ª—è—î—à—Å—è: —Ç–æ–±—ñ –º–æ–∂—É—Ç—å –ø—ñ–¥–∫–∞–∑—É–≤–∞—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è, –¥–æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏—Å—è –≥–∞–π–¥–ª–∞–π–Ω—ñ–≤ –∑ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—ñ, –∞–ª–µ –∑–∞–≥–∞–ª–æ–º —Ç–≤–æ—ó —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–∏–π–º–∞—é—Ç—å –∫–æ–º–∞–Ω–¥–∏ –±–µ–∑ —Å–µ—Ä–π–æ–∑–Ω–∏—Ö –∑–∞—É–≤–∞–∂–µ–Ω—å. –£ —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—ñ –∑ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º–∏ —ñ–Ω–æ–¥—ñ –≤–∏–Ω–∏–∫–∞—é—Ç—å —Ç—Ä—É–¥–Ω–æ—â—ñ: –Ω–µ –∑–∞–≤–∂–¥–∏ –ø–∞–º‚Äô—è—Ç–∞—î—à –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ –≤–µ—Ä—Å—Ç–∫–∏, –∞–ª–µ –≤–∂–µ –∑–Ω–∞—î—à –±–∞–∑–æ–≤—ñ HTML- —ñ CSS-–æ–≥—Ä—ñ—Ö–∏. –†–µ–∫—Ä—É—Ç–µ—Ä–∏ –±–∞—á–∞—Ç—å —Ç–≤—ñ–π —Å–µ—Ä–µ–¥–Ω—ñ–π –¥–æ—Å–≤—ñ–¥: —Ç–∏ —Ä–æ–∑—É–º—ñ—î—à –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å, –≥–æ—Ç–æ–≤–∏–π –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –∫–æ–º–∞–Ω–¥—ñ, –∞–ª–µ –≤—Å–µ —â–µ –Ω–∞–≤—á–∞—î—à—Å—è —Å–∞–º–æ–æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó —Ç–∞ —Ç–∞–π–º-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç—É. –¢–≤–æ—ó –∑–∞–≤–¥–∞–Ω–Ω—è –Ω–∞ —Ä–æ–±–æ—Ç—ñ: –æ–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏ –≥–æ—Ç–æ–≤—ñ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏, –∑–∞–ø—É—Å–∫–∞—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫—ñ A/B-—Ç–µ—Å—Ç–∏, –≥–æ—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ—Å—Ç—ñ –∫–ª—ñ—î–Ω—Ç—Å—å–∫—ñ –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—ó. –©–æ–± –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ Middle-—Ä—ñ–≤–µ–Ω—å, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—á–∞—Ç–∏ –≤–µ—Å—Ç–∏ –≤–ª–∞—Å–Ω–∏–π –º—ñ–∫—Ä–æ–¥–∏–∑–∞–π–Ω-–ø—Ä–æ–µ–∫—Ç: —Å–∫–ª–∞—Å—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫—É –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É, –ø—Ä–æ–ø—Ä–∞—Ü—é–≤–∞—Ç–∏ UX-–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –¥–ª—è —Ö–æ—á–∞ –± –æ–¥–Ω–æ–≥–æ –∫–µ–π—Å—É —Ç–∞ –Ω–∞–≤—á–∏—Ç–∏—Å—è –Ω–∞–≤–æ–¥–∏—Ç–∏ –∞—Ä–≥—É–º–µ–Ω—Ç–∏ ¬´–ø—ñ–¥ –±—ñ–∑–Ω–µ—Å-–∑–∞–¥–∞—á—ñ¬ª.,",
    ],
    "Middle": [
        "–£ —Ç–µ–±–µ –≤–∂–µ —î 2‚Äì3 —Ä–æ–∫–∏ –¥–æ—Å–≤—ñ–¥—É –≤ –¥–∏–∑–∞–π–Ω—ñ: —Ç–∏ —Å—Ç–≤–æ—Ä—é–≤–∞–≤ –Ω–µ—Å–∫–ª–∞–¥–Ω—ñ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∏ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø—ñ–≤ –∞–±–æ –ø—ñ–¥—Ç—Ä–∏–º—É–≤–∞–≤ –≤–µ–ª–∏–∫—ñ UI-–∫–∏—Ç–∏. –í–æ–ª–æ–¥—ñ—î—à –∞–≤—Ç–æ–ª–µ–π–∞—É—Ç–∏–∑–æ–≤–∞–Ω–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏, —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏–º–∏ —à–∫–∞–ª–∞–º–∏ —ñ —Ä–æ–∑—É–º—ñ—î—à –ø—Ä–∏–Ω—Ü–∏–ø–∏ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ (WCAG). –¢–≤–æ—î –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –¥–µ–º–æ–Ω—Å—Ç—Ä—É—î –ø–æ–≤–Ω—ñ –ø—Ä–æ—î–∫—Ç–Ω—ñ —Ü–∏–∫–ª–∏: –≤—ñ–¥ –±—Ä–∏—Ñ—É –∑ –∫–ª—ñ—î–Ω—Ç–æ–º —ñ user-research –¥–æ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è —Ç–∞ –ø–µ—Ä–µ–¥–∞—á—ñ –º–∞–∫–µ—Ç—ñ–≤ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º. –¢–∏ –º–æ–∂–µ—à —Å–∞–º–æ—Å—Ç—ñ–π–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç–∏ —ñ–Ω—Ç–µ—Ä–≤‚Äô—é –∑ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ –Ω–∞ —Ä—ñ–≤–Ω—ñ –±–∞–∑–æ–≤–∏—Ö JTBD-–º–µ—Ç–æ–¥—ñ–≤, –∞–Ω–∞–ª—ñ–∑—É–≤–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏, —Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –≥—ñ–ø–æ—Ç–µ–∑–∏ —Ç–∞ –≤–∏–º—ñ—Ä—é–≤–∞—Ç–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ä—ñ—à–µ–Ω—å. –ö–æ–º–∞–Ω–¥–∏ –¥–æ—Å–ª—É—Ö–∞—é—Ç—å—Å—è –¥–æ —Ç–≤–æ—ó—Ö –ø–æ—Ä–∞–¥: —Ç–∏ –ø—Ä–æ–ø–æ–Ω—É—î—à –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó, –∑–Ω–∏–∂—É—î—à —Ä–∏–∑–∏–∫–∏ –±–∞–≥—ñ–≤ –Ω–∞ –µ—Ç–∞–ø—ñ —Ä–æ–∑—Ä–æ–±–∫–∏ —Ç–∞ –∑–∞–±–µ–∑–ø–µ—á—É—î—à —É–∑–≥–æ–¥–∂–µ–Ω—ñ—Å—Ç—å UI —É –≤—Å—ñ—Ö –µ–∫–æ—Å–∏—Å—Ç–µ–º–∞—Ö –ø—Ä–æ–¥—É–∫—Ç—É. –¢–≤–æ—è —Ä–æ–ª—å —É–∂–µ –≤–∫–ª—é—á–∞—î –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—é –∑ –ø—Ä–æ–¥–∞–∫—Ç-–º–µ–Ω–µ–¥–∂–µ—Ä–∞–º–∏: —Ç–∏ –≤–º—ñ—î—à ¬´–ø–µ—Ä–µ–∫–ª–∞–¥–∞—Ç–∏¬ª –±—ñ–∑–Ω–µ—Å-–≤–∏–º–æ–≥–∏ –≤ —è–¥—Ä–æ UX-–∫–æ–Ω—Ü–µ–ø—Ü—ñ—ó –π –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–æ–∑—Å—Ç–∞–≤–ª—è—Ç–∏ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏. –ù–∞ —Ü—å–æ–º—É –µ—Ç–∞–ø—ñ —Ç–∏ –≤–∏—Å—Ç—É–ø–∞—î—à —Ç–∞–∫–æ–∂ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫–æ–º –¥–ª—è –º–æ–ª–æ–¥—à–∏—Ö –∫–æ–ª–µ–≥: –ø–µ—Ä–µ–≤—ñ—Ä—è—î—à —ó—Ö –º–∞–∫–µ—Ç–∏, –¥–∞—î—à —Ñ—ñ–¥–±–µ–∫."
        "–©–æ–± –≤–∏–π—Ç–∏ –Ω–∞ Middle+ ‚Äî –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—á–∞—Ç–∏ –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫—ñ R&D-–∑–∞–¥–∞—á—ñ: –¥–æ—Å–ª—ñ–¥–∂—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, –∑–∞–ø—É—Å–∫–∞—Ç–∏ A/B-—Ç–µ—Å—Ç–∏ –¥–∏–∑–∞–π–Ω—É, –ø—Ä–æ–ø–æ–Ω—É–≤–∞—Ç–∏ –≤–∞—Ä—ñ–∞–Ω—Ç–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —Ñ–ª–æ—É, —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫—ñ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –≥–∞–π–¥–∏ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏.",
    ],
    "Middle+": [
        "–¢–≤—ñ–π –¥–æ—Å–≤—ñ–¥ —Å—è–≥–∞—î 4‚Äì5 —Ä–æ–∫—ñ–≤, —Ç–∏ –≤–∂–µ –±—Ä–∞–≤ —É—á–∞—Å—Ç—å —É –¥–≤–æ—Ö-—Ç—Ä—å–æ—Ö –≤–µ–ª–∏–∫–∏—Ö –ø—Ä–æ—î–∫—Ç–∞—Ö, –¥–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–≤ —Å–ø–æ—á–∞—Ç–∫—É –∑–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤, –∞ —Ç–µ–ø–µ—Ä –Ω–∞–≤—ñ—Ç—å –∑–∞ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ—é —Ä–æ–±–æ—Ç–∏ —ñ–Ω—à–∏—Ö Middle-–¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤. –¢–∏ –Ω–µ –ª–∏—à–µ —Ä–æ–∑—Ä–æ–±–ª—è—î—à –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∏, –∞ –π –∫–µ—Ä—É—î—à ¬´end-to-end¬ª –ø—Ä–æ—Ü–µ—Å–æ–º: —Å–∫–ª–∞–¥–∞—î—à —Ç–µ—Ö–Ω—ñ—á–Ω—ñ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—ó, —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—É—î—à –ø—Ä–∞–≤–∏–ª–∞ –≤–µ—Ä—Å—Ç–∫–∏, –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É—î—à QA-–ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è. –¢–≤—ñ–π –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –≤–∫–ª—é—á–∞—î –∫–µ–π—Å–∏ –∑ –º—É–ª—å—Ç–∏–∫–µ–π—Å–æ–≤–∏–º UX-–¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è–º, —Ç–∏ –∑–∞–º–æ–≤–ª—è—î—à —ñ –æ–ø—Ä–∞—Ü—å–æ–≤—É—î—à —ñ–Ω—Ç–µ—Ä–≤‚Äô—é –∑ –∞—É–¥–∏—Ç–æ—Ä—ñ—î—é, –∞–Ω–∞–ª—ñ–∑—É—î—à –∫—ñ–ª—å–∫—ñ—Å–Ω—ñ –º–µ—Ç—Ä–∏–∫–∏ (–º–∏ —Ç—Ä–∞–≤–∏–∫–∏, –∫–æ–Ω–≤–µ—Ä—Å—ñ—è, retention) –π –ø—Ä–æ–ø–æ–Ω—É—î—à –∑–º—ñ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –¥–∞–Ω–∏—Ö. –í –∫–æ–º–∞–Ω–¥—ñ —Ç–∏ –≤–∂–µ –ø—Ä–µ–¥–º–µ—Ç–Ω–æ –≤–ø–ª–∏–≤–∞—î—à –Ω–∞ —Ä—ñ—à–µ–Ω–Ω—è –±—ñ–∑–Ω–µ—Å-—Ä—ñ–≤–Ω—è: –æ–±–≥–æ–≤–æ—Ä—é—î—à –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏ —Ñ—ñ—á–µ–π —ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ—é –∫–æ–º–∞–Ω–¥–æ—é, —É–∑–≥–æ–¥–∂—É—î—à —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ –≤–ø–ª–∏–≤ –¥–∏–∑–∞–π–Ω—É –Ω–∞ –º–µ—Ç—Ä–∏–∫–∏. –¢–µ–±–µ –∑–∞–ª—É—á–∞—é—Ç—å –¥–æ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è roadmap-—É, –≤—ñ–¥—Å—Ç–æ—é—î—à UX-—Ü—ñ–Ω–Ω—ñ—Å—Ç—å –ø–µ—Ä–µ–¥ CTO. –î–∏–∑–∞–π–Ω-–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏ —Ç–∞ HR-–º–µ–Ω–µ–¥–∂–µ—Ä–∏ —Ä–æ–∑–≥–ª—è–¥–∞—é—Ç—å —Ç–µ–±–µ —è–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞ –Ω–∞ –ø–æ–∑–∏—Ü—ñ—é Senior ‚Äî —Ç–∏ –ø–µ—Ä—ñ–æ–¥–∏—á–Ω–æ –≤–µ–¥–µ—à –Ω–µ–≤–µ–ª–∏–∫—ñ –≤–æ—Ä–∫—à–æ–ø–∏ –¥–ª—è –Ω–æ–≤–∞—á–∫—ñ–≤, —Ñ–æ—Ä–º—É—î—à —á–µ–∫-–ª—ñ—Å—Ç–∏ —Ç–∞ —à–∞–±–ª–æ–Ω–∏ –¥–ª—è —à–≤–∏–¥–∫–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏.",
        "–©–æ–± —Å—Ç–∞—Ç–∏ Senior, –≤–∞—Ä—Ç–æ –ø–æ—á–∞—Ç–∏ –∫–µ—Ä—É–≤–∞—Ç–∏ –Ω–µ–≤–µ–ª–∏–∫–∏–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏ –π –±—Ä–∞—Ç–∏ –Ω–∞ —Å–µ–±–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω—ñ—Å—Ç—å –∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ MVP —ñ–∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü—ñ–π–Ω–∏–º–∏ –≤—Ç—Ä–∞—Ç–∞–º–∏.",
    ],
    "Senior": [
        "–ù–∞ —Ç–≤–æ—î–º—É —Ä–∞—Ö—É–Ω–∫—É 6‚Äì8 —Ä–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É –≤ —ñ–Ω–¥—É—Å—Ç—Ä—ñ—ó: —Ç–∏ –ø–æ–±—É–¥—É–≤–∞–≤ —á–∏ –∑–Ω–∞—á–Ω–æ —Ä–æ–∑—à–∏—Ä–∏–≤ —â–æ–Ω–∞–π–º–µ–Ω—à–µ –æ–¥–Ω—É –º–∞—Å—à—Ç–∞–±–Ω—É –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É –¥–ª—è –≤–µ–ª–∏–∫–æ—ó –∫–æ–º–ø–∞–Ω—ñ—ó. –¢–∏ –æ—á–æ–ª—é—î—à –∫–æ–º–∞–Ω–¥—É –∑ 3‚Äì5 Middle-–¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤, –ø—Ä–æ–≤–æ–¥–∏—à —â–æ—Ç–∏–∂–Ω–µ–≤—ñ one-on-one, –æ—Ü—ñ–Ω—é—î—à –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø—Ä–æ—Ü–µ—Å—ñ–≤, –∑–∞–¥–∞—î—à KPI –¥–ª—è —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—ñ–≤ —ñ –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤. –¢–∏ —Ç—ñ—Å–Ω–æ –ø—Ä–∞—Ü—é—î—à —ñ–∑ C-level: –ø–æ–≥–æ–¥–∂—É—î—à —Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó —Ä–æ–∑–≤–∏—Ç–∫—É –ø—Ä–æ–¥—É–∫—Ç—É, —Ñ–æ—Ä–º—É—î—à –ø–ª–∞–Ω —Ä–µ–ª—ñ–∑—ñ–≤ —ñ –¥–∏–∑–∞–π–Ω-—Ç–∞—Å–∫—ñ–≤, —Å–∫–ª–∞–¥–∞—î—à roadmap –¥–∏–∑–∞–π–Ω—É –Ω–∞ –ø—ñ–≤—Ä–æ–∫—É —ñ —Ä—ñ–∫. –¢–≤–æ—ó —Ä—ñ—à–µ–Ω–Ω—è –∑–Ω–∞—á–Ω–æ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –±—ñ–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏: —Ç–∏ –ø—Ä–æ—î–∫—Ç—É—î—à —Ñ–ª–æ—É –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –∫–æ–Ω–≤–µ—Ä—Å—ñ–π, –∑–Ω–∏–∂–µ–Ω–Ω—è churn-—É. –ü–æ—Ä—Ç—Ñ–æ–ª—ñ–æ ‚Äî —Ü–µ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ä–æ–±–æ—Ç–∏, –∞ –ø–æ–≤–Ω—ñ –∫–µ–π—Å–∏ –∑ ¬´–º–µ—Ç—Ä–∏–∫–∏ –¥–æ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó¬ª, –¥–µ —Ç–∏ –∫–µ—Ä—É–≤–∞–≤ –ø—Ä–æ—Ü–µ—Å–æ–º –≤—ñ–¥ user-research –¥–æ post-launch-–∞–Ω–∞–ª—ñ–∑—É. –¢–µ–±–µ —Ü—ñ–Ω—É—é—Ç—å –∑–∞ –µ–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤ –ø–æ–±—É–¥–æ–≤—ñ –¥–∏–∑–∞–π–Ω-–º–µ–Ω—Ç–æ—Ä–∏–Ω–≥—É, –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—ñ —Ç—Ä–µ–Ω—ñ–Ω–≥—ñ–≤ –¥–ª—è –∫–æ–º–∞–Ω–¥–∏, —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—ñ–≤ –º—ñ–∂ –≤—ñ–¥–¥—ñ–ª–∞–º–∏. ",
        "–©–æ–± –≤–∏–π—Ç–∏ –Ω–∞ —Ä—ñ–≤–µ–Ω—å Lead / Senior+, –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ—á–∞—Ç–∏ –±—Ä–∞—Ç–∏ —É—á–∞—Å—Ç—å —É —Ñ–æ—Ä–º—É–≤–∞–Ω–Ω—ñ –¥–∏–∑–∞–π–Ω-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –∫–æ–º–ø–∞–Ω—ñ—ó –≤ —Ü—ñ–ª–æ–º—É: —Ä–æ–∑—Ä–æ–±–ª—è—Ç–∏ guidelines –¥–ª—è –≤—Å—ñ—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤, –∫–æ–æ—Ä–¥–∏–Ω—É–≤–∞—Ç–∏ –∫—Ä–æ—Å-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —ñ–Ω—ñ—Ü—ñ–∞—Ç–∏–≤–∏, –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó (machine learning –≤ UX, voice-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∏ —Ç–æ—â–æ), –∞ —Ç–∞–∫–æ–∂ –±—É–¥—É–≤–∞—Ç–∏ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—É –∫—É–ª—å—Ç—É—Ä—É –¥–∏–∑–∞–π–Ω—É.",
    ],
    "Lead / Senior+": [
        "–¢–∏ ‚Äî –∞—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä –¥–∏–∑–∞–π–Ω-—Å—Ç—Ä–∞—Ç–µ–≥—ñ—ó –≤–µ–ª–∏–∫–æ—ó –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó. –ú–∞—î—à –∑–∞ –ø–ª–µ—á–∏–º–∞ 8‚Äì10+ —Ä–æ–∫—ñ–≤ –¥–æ—Å–≤—ñ–¥—É —ñ –∫–µ—Ä—É–≤–∞–≤ –∫–æ–º–∞–Ω–¥–æ—é 10‚Äì15 –¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤, UI/UX-–¥–æ—Å–ª—ñ–¥–Ω–∏–∫—ñ–≤ —Ç–∞ —ñ–Ω–∂–µ–Ω–µ—Ä—ñ–≤. –¢–≤–æ—î –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ ‚Äî —Ü–µ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –Ω–∞ —Ä—ñ–≤–Ω—ñ enterprise: —Ç–∏ –≤–∏–∑–Ω–∞—á–∞–≤ roadmap, –±—Ä–∞–≤ —É—á–∞—Å—Ç—å —É —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –º—É–ª—å—Ç–∏–∫—É–ª—å—Ç—É—Ä–Ω–∏—Ö –¥–∏–∑–∞–π–Ω—ñ–≤ –¥–ª—è —Ä–∏–Ω–∫—ñ–≤ –Ñ–≤—Ä–æ–ø–∏, –°–®–ê —Ç–∞ –ê–∑—ñ—ó. –¢–∏ –ø—Ä–æ–∫–ª–∞–¥–∞—î—à —à–ª—è—Ö —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—è–º: –≤—ñ–¥–ø–æ—á–∞—Ç–∫—É —Å—Ç–≤–æ—Ä—é—î—à R&D-–ø–æ–¥—Ä–æ–∑–¥—ñ–ª, –≤–ø—Ä–æ–≤–∞–¥–∂—É—î—à –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—ó Design Thinking –Ω–∞ —Ä—ñ–≤–Ω—ñ –∫–æ–º–ø–∞–Ω—ñ—ó, —Ñ–æ—Ä–º—É—î—à ¬´–¥–∏–∑–∞–π–Ω-—Ü–µ–Ω—Ç—Ä –∫–æ–º–ø–µ—Ç–µ–Ω—Ü—ñ–π¬ª. –Ø–∫ Lead, —Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à –∑–∞ –¥–æ–≤–≥–æ—Å—Ç—Ä–æ–∫–æ–≤–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫ –¥–∏–∑–∞–π–Ω—É, –º–µ–Ω–µ–¥–∂–∏—à —Å–ø—ñ–≤–ø—Ä–∞—Ü—é –∑ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–º, –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é –π —Å—Ç–µ–π–∫—Ö–æ–ª–¥–µ—Ä–∞–º–∏. –¢–≤–æ—ó —Ä—ñ—à–µ–Ω–Ω—è –≤–∏–∑–Ω–∞—á–∞—é—Ç—å —Ç–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –±—Ä–µ–Ω–¥—É, —Ñ–æ—Ä–º—É—é—Ç—å customer journey –¥–ª—è –¥–µ—Å—è—Ç–∫—ñ–≤ –º—ñ–ª—å–π–æ–Ω—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤. –î–ª—è HR-–º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ —ñ —Ç–æ–ø-–º–µ–Ω–µ–¥–∂–µ—Ä—ñ–≤ —Ç–∏ ‚Äî —É–æ—Å–æ–±–ª–µ–Ω–Ω—è –µ–∫—Å–ø–µ—Ä—Ç–∏–∑–∏: —Å–∞–º–µ —Ç–µ–±–µ –∑–∞–ø—Ä–æ—à—É—é—Ç—å –Ω–∞ –ø–∞–Ω–µ–ª—ñ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü—ñ–π, —Ç–∏ —á–∏—Ç–∞—î—à –ª–µ–∫—Ü—ñ—ó –∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∫–æ–º–∞–Ω–¥, –∫—É—Ä–∞—Ç–æ—Ä—Å—Ç–≤–∞ —Ç–∞ UI/UX-—ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π. –¢–≤–æ—î –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –Ω–µ –ª–∏—à–µ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –∫—Ä–µ–∞—Ç–∏–≤, –∞ –π —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ –∫—É–ª—å—Ç—É—Ä—É –∫–æ–º–ø–∞–Ω—ñ—ó —Ç–∞–∫, —â–æ–± –¥–∏–∑–∞–π–Ω —Å—Ç–∞–≤ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—é –ø–µ—Ä–µ–≤–∞–≥–æ—é.",
    ],
}

# Banner
INTRO_PHOTO = Path(__file__).parent / "assets" / "intro.jpg"
INTRO_TEXT = (
    "<b>–©–æ –≤–º—ñ—î —Ü–µ–π –±–æ—Ç?</b>\n"
    "–¶–µ–π —Ç–µ—Å—Ç –¥–∞—Å—Ç—å –≤–∞–º –ø—Ä–∏–±–ª–∏–∑–Ω—É –æ—Ü—ñ–Ω–∫—É –≤–∞—à–æ–≥–æ —Ä—ñ–≤–Ω—è —Ç–∞ –æ—Ä—ñ—î–Ω—Ç–∏—Ä –≤–∏–ª–∫–∏ –ó–ü –Ω–∞ —Ä–∏–Ω–∫—É –£–∫—Ä–∞—ó–Ω–∏. "
    "–ö–æ–∂–Ω–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—è –ø–æ–±—É–¥–æ–≤–∞–Ω–∞ –Ω–∞ –≤—ñ–¥–∫—Ä–∏—Ç–∏—Ö –≤–∏–º–æ–≥–∞—Ö –≤–∞–∫–∞–Ω—Å—ñ–π —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏—Ü—ñ –≥–∞–ª—É–∑—ñ.\n\n"
    "–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å ¬´–†–û–ó–ü–û–ß–ê–¢–ò –¢–ï–°–¢¬ª ‚Äî —ñ –¥—ñ–∑–Ω–∞–π—Ç–µ—Å—è —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∞ –æ—Ç—Ä–∏–º–∞—î—Ç–µ –Ω–µ–≤–µ–ª–∏–∫–∏–π —á–µ–∫‚Äë–ª–∏—Å—Ç —ñ–∑ –ø–æ—Ä–∞–¥–∞–º–∏."
)

# Questions
QUESTIONS = [
    ("–Ø–∫ —á–∞—Å—Ç–æ –≤–∞–º –ø–æ–≤–µ—Ä—Ç–∞—é—Ç—å –ø—Ä–∞–≤–∫–∏ –¥–∏–∑–∞–π–Ω—É?",
     ["–ó–∞–º–æ–≤–Ω–∏–∫–∞–º —á–∞—Å—Ç–æ –Ω–µ –ø–æ–¥–æ–±–∞—î—Ç—å—Å—è", "–Ü–Ω–æ–¥—ñ –ø—Ä–∏—Ö–æ–¥—è—Ç—å –ø–æ–º—ñ—Ä–Ω—ñ –ø—Ä–∞–≤–∫–∏", "–ü—Ä–∞–≤–∫–∏ –º—ñ–Ω—ñ–º–∞–ª—å–Ω—ñ", "–ó–∞–∑–≤–∏—á–∞–π –±–µ–∑ –ø—Ä–∞–≤–æ–∫"],
     [1, 2, 3, 4]),
    ("–ù–∞—Å–∫—ñ–ª—å–∫–∏ —á—ñ—Ç–∫–æ –≤–∏ –ø–æ—è—Å–Ω—é—î—Ç–µ —Å–≤–æ—ó –¥–∏–∑–∞–π–Ω-—Ä—ñ—à–µ–Ω–Ω—è?",
     ["–ù–µ –≤–º—ñ—é –ø–æ—è—Å–Ω—é–≤–∞—Ç–∏", "–ü–æ—è—Å–Ω—é—é –Ω–µ –∑–∞–≤–∂–¥–∏ –∑—Ä–æ–∑—É–º—ñ–ª–æ", "–ú–µ–Ω–µ —Ä–æ–∑—É–º—ñ—é—Ç—å –±–µ–∑ –ø—Ä–æ–±–ª–µ–º", "–ß—ñ—Ç–∫–æ –ø–µ—Ä–µ–¥–∞—é —ñ–¥–µ—ó"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –±–∏ –≤–∏ –æ—Ü—ñ–Ω–∏–ª–∏ —Å–≤—ñ–π —Ä—ñ–≤–µ–Ω—å —Ä–æ–±–æ—Ç–∏ —É Figma?",
     ["–ü–æ—á–∞—Ç–∫—ñ–≤–µ—Ü—å", "–í–ø–µ–≤–Ω–µ–Ω–æ –ø—Ä–∞—Ü—é—é –∑ –±–∞–∑–æ–≤–∏–º —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª–æ–º", "–í–æ–ª–æ–¥—ñ—é –∞–≤—Ç–æ–ª–µ–π–∞—É—Ç–∞–º–∏ –π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏", "–ï–∫—Å–ø–µ—Ä—Ç —ñ –Ω–∞—Å—Ç–∞–≤–Ω–∏–∫ –¥–ª—è —ñ–Ω—à–∏—Ö"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤—É—î—Ç–µ –ø—Ä–æ—Å—Ç—ñ—Ä —ñ —Å—ñ—Ç–∫—É –≤ –º–∞–∫–µ—Ç—ñ?",
     ["–Ü–Ω—Ç—É—ó—Ç–∏–≤–Ω–æ –≤–∏—Ä—ñ–≤–Ω—é—é –µ–ª–µ–º–µ–Ω—Ç–∏", "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –≥–æ—Ç–æ–≤—ñ –≥—ñ–¥–ª–∞–π–Ω–∏", "–°—Ç–≤–æ—Ä—é—é –≤–ª–∞—Å–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ —Å—ñ—Ç–æ–∫", "–û–ø—Ç–∏–º—ñ–∑—É—é —Å—ñ—Ç–∫—É –¥–ª—è –±—É–¥—å-—è–∫–∏—Ö —Ñ–æ—Ä–º–∞—Ç—ñ–≤"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –ø—ñ–¥–±–∏—Ä–∞—î—Ç–µ –∫–æ–ª—å–æ—Ä–æ–≤—É –ø–∞–ª—ñ—Ç—Ä—É –¥–ª—è –ø—Ä–æ—î–∫—Ç—É?",
     ["–û–±–∏—Ä–∞—é –æ–¥–Ω—É –¥–æ–º—ñ–Ω–∞–Ω—Ç–Ω—É", "–ö–æ—Ä–∏—Å—Ç—É—é—Å—å –≥–æ—Ç–æ–≤–∏–º–∏ —à–∞–±–ª–æ–Ω–∞–º–∏", "–°—Ç–≤–æ—Ä—é—é –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω—ñ –ø–∞–ª—ñ—Ç—Ä–∏", "–í—Ä–∞—Ö–æ–≤—É—é WCAG —ñ —Ç–æ–∫–µ–Ω—ñ–∑—É—é –∫–æ–ª—å–æ—Ä–∏"],
     [1, 2, 3, 4]),
    ("–Ø–∫–∏–π –≤–∞—à –¥–æ—Å–≤—ñ–¥ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∞–¥–∞–ø—Ç–∏–≤–Ω–∏—Ö —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ñ–≤?",
     ["–õ–∏—à–µ –¥–∏–∑–∞–π–Ω –º–æ–±—ñ–ª—å–Ω–∏—Ö –µ–∫—Ä–∞–Ω—ñ–≤", "–ü—Ä–∞—Ü—é—é –∑ –º–æ–±–∞–π–ª–æ–º —ñ –¥–µ—Å–∫—Ç–æ–ø–æ–º", "–°—Ç–≤–æ—Ä—é–≤–∞–≤ –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ —Å–∏—Å—Ç–µ–º–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º", "–ü–∏—à—É –∫–æ–¥ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö –¥–∏—Å–ø–ª–µ—ó–≤"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Ç–∏–ø–æ–≥—Ä–∞—Ñ—ñ–∫–æ—é?",
     ["–ó–∞—Å—Ç–æ—Å–æ–≤—É—é –±–∞–∑–æ–≤—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —à—Ä–∏—Ñ—Ç—ñ–≤", "–°–ª—ñ–¥—É—é –≥–æ—Ç–æ–≤–∏–º –º–∞—Å—à—Ç–∞–±–∞–º", "–°—Ç–≤–æ—Ä—é—é –≤–ª–∞—Å–Ω—ñ —à–∫–∞–ª–∏ —Ç–∞ –ª—ñ–Ω—ñ–π–∫–∏", "–†–æ–±–ª—é –æ–ø—Ç–∏—á–Ω—É –∫–æ—Ä–µ–∫—Ü—ñ—é —ñ —Ç–æ–∫–µ–Ω—ñ–∑—É—é"],
     [1, 2, 3, 4]),
    ("–ß–∏ –º–∞—î—Ç–µ –≤–∏ –¥–æ—Å–≤—ñ–¥ —Ä–æ–±–æ—Ç–∏ –∑ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞–º–∏?",
     ["–ù—ñ–∫–æ–ª–∏ –Ω–µ –ø—Ä–∞—Ü—é–≤–∞–≤", "–ó–∞—Å—Ç–æ—Å–æ–≤—É–≤–∞–≤ –≥–æ—Ç–æ–≤—ñ UI-–∫–∏—Ç–∏", "–†–æ–∑—à–∏—Ä—é–≤–∞–≤ —ñ—Å–Ω—É—é—á—ñ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∏", "–°—Ç–≤–æ—Ä—é–≤–∞–≤ –º–∞—Å—à—Ç–∞–±–Ω—ñ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∏ –∑ –Ω—É–ª—è"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –∑–±–∏—Ä–∞—î—Ç–µ —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É—î—Ç–µ —Ñ—ñ–¥–±–µ–∫ –≤—ñ–¥ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤?",
     ["–Ü–≥–Ω–æ—Ä—É—é –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ", "–û–±—Ä–æ–±–ª—è—é —Ö–∞–æ—Ç–∏—á–Ω–æ", "–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–Ω–æ –∑–±–∏—Ä–∞—é –π –∞–Ω–∞–ª—ñ–∑—É—é", "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –¥–ª—è –ø–æ—Å—Ç—ñ–π–Ω–æ–≥–æ –≤–¥–æ—Å–∫–æ–Ω–∞–ª–µ–Ω–Ω—è"],
     [1, 2, 3, 4]),
    ("–Ø–∫–∏–º–∏ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É–≤–∞–Ω–Ω—è –≤–∏ –∫–æ—Ä–∏—Å—Ç—É—î—Ç–µ—Å—å?",
     ["–ù–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—É—é", "–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –±–∞–∑–æ–≤—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏", "–°—Ç–≤–æ—Ä—é—é —ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ñ –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏", "–í–ª–∞–¥–Ω—É—é —Å–∫–ª–∞–¥–Ω—ñ —Å—Ü–µ–Ω–∞—Ä—ñ—ó –ø—Ä–æ—Ç–æ—Ç–∏–ø—ñ–≤"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ —Ç–µ—Å—Ç—É—î—Ç–µ —Å–≤–æ—ó –¥–∏–∑–∞–π–Ω-—Ä—ñ—à–µ–Ω–Ω—è?",
     ["–ù–µ —Ç–µ—Å—Ç—É—é", "–ü–µ—Ä–µ–≤—ñ—Ä—è—é –Ω–∞ –¥—Ä—É–∑—è—Ö", "–ü—Ä–æ–≤–æ–∂—É –±–∞–∑–æ–≤—ñ —é–∑–µ—Ä-—Ç–µ—Å—Ç–∏", "–í–ø—Ä–æ–≤–∞–¥–∂—É—é –∫–æ–º–ø–ª–µ–∫—Å–Ω—ñ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ —É–ø—Ä–∞–≤–ª—è—î—Ç–µ –¥–µ–¥–ª–∞–π–Ω–∞–º–∏ —Ç–∞ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏?",
     ["–ß–∞—Å—Ç–æ –∑—Ä–∏–≤–∞—é —Ç–µ—Ä–º—ñ–Ω–∏", "–Ü–Ω–æ–¥—ñ –≤—Å—Ç–∏–≥–∞—é", "–ó–∞–∑–≤–∏—á–∞–π —É–∫–ª–∞–¥–∞—é—Å—è", "–ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–∞–≤–µ—Ä—à—É—é —Ä–∞–Ω—ñ—à–µ"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ —Å–ø—ñ–≤–ø—Ä–∞—Ü—é—î—Ç–µ –∑ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫–∞–º–∏?",
     ["–£–Ω–∏–∫–∞—é —Ç–µ—Ö–Ω—ñ—á–Ω–∏—Ö –¥–µ—Ç–∞–ª–µ–π", "–û–±–≥–æ–≤–æ—Ä—é—é —Ç—ñ–ª—å–∫–∏ –Ω–∞–π–Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ—à–µ", "–ü—ñ–¥—Ç—Ä–∏–º—É—é –ø–æ—Å—Ç—ñ–π–Ω–∏–π –¥—ñ–∞–ª–æ–≥", "–ì–∞—Ä–º–æ–Ω—ñ–π–Ω–æ —ñ–Ω—Ç–µ–≥—Ä—É—é –¥–∏–∑–∞–π–Ω —É –∫–æ–¥"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –≤—Ä–∞—Ö–æ–≤—É—î—Ç–µ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å (a11y) —É —Å–≤–æ—ó—Ö –ø—Ä–æ—î–∫—Ç–∞—Ö?",
     ["–ù–µ –≤—Ä–∞—Ö–æ–≤—É—é", "–ü–µ—Ä–µ–≤—ñ—Ä—è—é –∫–æ–Ω—Ç—Ä–∞—Å—Ç", "–ó–∞—Å—Ç–æ—Å–æ–≤—É—é –±–∞–∑–æ–≤—ñ –ø—Ä–∞–≤–∏–ª–∞", "–ì–ª–∏–±–æ–∫–æ —ñ–Ω—Ç–µ–≥—Ä—É—é –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å —É –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º—É"],
     [1, 2, 3, 4]),
    ("–Ø–∫–∏–π —É –≤–∞—Å –¥–æ—Å–≤—ñ–¥ –ø—Ä–æ–≤–µ–¥–µ–Ω–Ω—è UX-–¥–æ—Å–ª—ñ–¥–∂–µ–Ω—å?",
     ["–ù–µ –ø—Ä–æ–≤–æ–¥–∏–≤", "–ü—Ä–æ–±—É–≤–∞–≤ –∫–æ—Ä–∏–¥–æ—Ä–Ω—ñ —Ç–µ—Å—Ç–∏", "–ü—Ä–æ–≤—ñ–≤ –¥–µ–∫—ñ–ª—å–∫–∞ —ñ–Ω—Ç–µ—Ä–≤'—é", "–í–∏–∫–æ–Ω–∞–≤ –∫—Ä—É–ø–Ω—ñ –¥–æ—Å–ª—ñ–¥–∂–µ–Ω–Ω—è –∑ –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –≤–∏—Ä—ñ—à—É—î—Ç–µ –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –≤ –∫–æ–º–∞–Ω–¥—ñ?",
     ["–£–Ω–∏–∫–∞—é —Å–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è", "–ù–∞–º–∞–≥–∞—é—Å—è –Ω–µ –∑–∞–≥–æ—Å—Ç—Ä—é–≤–∞—Ç–∏", "–®—É–∫–∞—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è", "–ú–µ–¥—ñ—É—é —ñ –∑–Ω–∞—Ö–æ–¥–∂—É –∫–æ–º–ø—Ä–æ–º—ñ—Å"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –∞–¥–∞–ø—Ç—É—î—Ç–µ –¥–∏–∑–∞–π–Ω –ø—ñ–¥ —Ä—ñ–∑–Ω—ñ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏?",
     ["–î–∏–∑–∞–π–Ω –¥–ª—è –æ–¥–Ω—ñ—î—ó –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏", "–ü–µ—Ä–µ–Ω–æ—à—É –µ–ª–µ–º–µ–Ω—Ç–∏ –≤—Ä—É—á–Ω—É", "–°—Ç–≤–æ—Ä—é—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ñ –º–∞–∫–µ—Ç–∏", "–†–æ–∑—Ä–æ–±–ª—è—é –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –æ–Ω–æ–≤–ª—é—î—Ç–µ —Å–≤–æ—î –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ?",
     ["–î–æ–¥–∞—é —Ä—ñ–¥–∫–æ", "–†–∞–∑ –Ω–∞ —Ä—ñ–∫ –æ–Ω–æ–≤–ª—é—é", "–ü—ñ—Å–ª—è –∫–æ–∂–Ω–æ–≥–æ –ø—Ä–æ—î–∫—Ç—É", "–ü–æ—Å—Ç—ñ–π–Ω–æ —Å–ª—ñ–¥–∫—É—é —ñ –ø–æ–ø–æ–≤–Ω—é—é"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –ø—Ä–µ–∑–µ–Ω—Ç—É—î—Ç–µ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫—ñ —Ä—ñ—à–µ–Ω–Ω—è?",
     ["–ü—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—É—é –º–∞–∫–µ—Ç–∏", "–ü–æ—è—Å–Ω—é—é –ø–æ–≤–µ—Ä—Ö–æ–≤–æ", "–ê—Ä–≥—É–º–µ–Ω—Ç—É—é –∫–æ–∂–µ–Ω –≤–∏–±—ñ—Ä", "–í–º—ñ—é –ø–µ—Ä–µ–∫–æ–Ω—É–≤–∞—Ç–∏ –∞—É–¥–∏—Ç–æ—Ä—ñ—é"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ —Å–ª—ñ–¥–∫—É—î—Ç–µ –∑–∞ –Ω–æ–≤–∏–º–∏ —Ç—Ä–µ–Ω–¥–∞–º–∏ —É –¥–∏–∑–∞–π–Ω—ñ?",
     ["–ù–µ —Å—Ç–µ–∂—É", "–ß–∏—Ç–∞—é —ñ–Ω–æ–¥—ñ –±–ª–æ–≥–∏", "–†–µ–≥—É–ª—è—Ä–Ω–æ –≤–∏–≤—á–∞—é –Ω–æ–≤–∏–Ω–∫–∏", "–ì–µ–Ω–µ—Ä—É—é –≤–ª–∞—Å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –ø–æ—î–¥–Ω—É—î—Ç–µ –∫—Ä–µ–∞—Ç–∏–≤–Ω—ñ—Å—Ç—å —ñ –±—ñ–∑–Ω–µ—Å-—Ü—ñ–ª—ñ?",
     ["–§–æ–∫—É—Å—É—é—Å—è –Ω–∞ –∫—Ä–∞—Å—ñ", "–Ü–Ω–æ–¥—ñ –≤—Ä–∞—Ö–æ–≤—É—é —Ü—ñ–ª—ñ", "–ë–∞–ª–∞–Ω—Å—É—é –º—ñ–∂ –Ω–∏–º–∏", "–†–æ–±–ª—é –¥–∏–∑–∞–π–Ω, —â–æ –ø—Ä–æ–¥–∞—î"],
     [1, 2, 3, 4]),
    ("–Ø–∫ –≤–∏ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç–µ –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫–µ –º–∏—Å–ª–µ–Ω–Ω—è —É –≤–∞—à—ñ–π —Ä–æ–±–æ—Ç—ñ?",
     ["–ù–µ –∑–Ω–∞–π–æ–º–∏–π –∑ –∫–æ–Ω—Ü–µ–ø—Ü—ñ—î—é",
      "–°–ª—É—Ö–∞–≤, –∞–ª–µ —Ä—ñ–¥–∫–æ –∑–∞—Å—Ç–æ—Å–æ–≤—É—é",
      "–†–µ–≥—É–ª—è—Ä–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö",
      "–ù–∞–≤—á–∞—é –∫–æ–ª–µ–≥ —Ç–∞ –≤–ø—Ä–æ–≤–∞–¥–∂—É—é –ø—Ä–∞–∫—Ç–∏–∫—É"],
     [1, 2, 3, 4]),
]

# Levels
LEVELS = [
    (1.00, 1.50, "–ù–∞—á–∏–Ω–∞—é—â–∏–π (–Ω–∏–∂–µ Junior)",  400,  600),
    (1.51, 2.20, "Junior",                    600,  900),
    (2.21, 2.80, "Middle",                    900, 1600),
    (2.81, 3.30, "Middle+",                  1600, 2400),
    (3.31, 3.70, "Senior",                   2400, 3200),
    (3.71, 4.00, "Lead / Senior+",           3200, 4500),
]

# States
WAIT_START, ASKING, CHECK_SUBSCRIPTION = range(3)

# Function to check subscription
async def check_subscription(context: ContextTypes.DEFAULT_TYPE, user_id: int) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –∫–∞–Ω–∞–ª"""
    try:
        member = await context.bot.get_chat_member(chat_id=CHANNEL_ID, user_id=user_id)
        return member.status in ['member', 'administrator', 'creator']
    except BadRequest as e:
        logging.warning(f"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏: {e}")
        return False
    except Exception as e:
        logging.error(f"–ù–µ–æ–∂–∏–¥–∞–Ω–Ω–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ø–æ–¥–ø–∏—Å–∫–∏: {e}")
        return False

# Function to clear user data
def clear_user_data(context: ContextTypes.DEFAULT_TYPE):
    """–û—á–∏—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
    context.user_data.clear()

# /start handler - —Ç–µ–ø–µ—Ä—å –≤—Å–µ–≥–¥–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ
async def start(update: Update, context: ContextTypes.DEFAULT_TYPE):
    # –û—á–∏—â–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º —Å—Ç–∞—Ä—Ç–µ
    clear_user_data(context)
    btn = InlineKeyboardButton("‚ñ∂ –†–û–ó–ü–û–ß–ê–¢–ò –¢–ï–°–¢", callback_data="begin")
    markup = InlineKeyboardMarkup([[btn]])
    if INTRO_PHOTO.exists():
        with INTRO_PHOTO.open("rb") as photo:
            await update.message.reply_photo(
                photo=photo,
                caption=INTRO_TEXT,
                parse_mode="HTML",
                reply_markup=markup,
            )
    else:
        await update.message.reply_text(INTRO_TEXT, parse_mode="HTML", reply_markup=markup)
    return WAIT_START

# Begin quiz with subscription check
async def begin_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    user_id = update.effective_user.id
    logging.info(f"–ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–¥–ø–∏—Å–∫—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
    is_subscribed = await check_subscription(context, user_id)
    logging.info(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–¥–ø–∏—Å–∫–∏: {is_subscribed}")
    if not is_subscribed:
        subscribe_btn = InlineKeyboardButton("üîî –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –∫–∞–Ω–∞–ª", url=CHANNEL_LINK)
        check_btn = InlineKeyboardButton("‚úÖ –Ø –ø—ñ–¥–ø–∏—Å–∞–≤—Å—è", callback_data="check_sub")
        markup = InlineKeyboardMarkup([[subscribe_btn], [check_btn]])
        subscription_text = (
            "‚ùóÔ∏è –î–ª—è –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ –ø—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –Ω–∞—à –∫–∞–Ω–∞–ª!\n\n"
            "–ù–∞ –∫–∞–Ω–∞–ª—ñ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ:\n"
            "‚Ä¢ –ü–æ—Ä–∞–¥–∏ —â–æ–¥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –∫–∞—Ä'—î—Ä–∏ –≤ –¥–∏–∑–∞–π–Ω—ñ\n"
            "‚Ä¢ –ö–æ—Ä–∏—Å–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ä–æ–±–æ—Ç–∏\n"
            "‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏ —Ç–∞ –∫–µ–π—Å–∏\n\n"
            "–ü—ñ—Å–ª—è –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É –Ω–∏–∂—á–µ –¥–ª—è –ø—Ä–æ–¥–æ–≤–∂–µ–Ω–Ω—è."
        )
        await context.bot.send_message(
            chat_id=update.effective_chat.id,
            text=subscription_text,
            reply_markup=markup,
            parse_mode="HTML"
        )
        return CHECK_SUBSCRIPTION
    else:
        context.user_data["q"] = 0
        context.user_data["scores"] = []
        return await ask_question(update, context)

# Check subscription callback
async def check_subscription_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    user_id = update.effective_user.id
    logging.info(f"–ü–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∫–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {user_id}")
    is_subscribed = await check_subscription(context, user_id)
    logging.info(f"–†–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏: {is_subscribed}")
    if not is_subscribed:
        # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º
        subscribe_btn = InlineKeyboardButton("üîî –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –∫–∞–Ω–∞–ª", url=CHANNEL_LINK)
        check_btn = InlineKeyboardButton("‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—ñ–¥–ø–∏—Å–∫—É", callback_data="check_sub")
        markup = InlineKeyboardMarkup([[subscribe_btn], [check_btn]])
        warning_text = (
            "üëÅÔ∏è <b>BigBro —Å–ª—ñ–¥–∫—É—î —ñ –Ω–µ –±–∞—á–∏—Ç—å –ø—ñ–¥–ø–∏—Å–∫—É!</b> üëÅÔ∏è\n\n"
            "‚ùå –í–∏ —â–µ –Ω–µ –ø—ñ–¥–ø–∏—Å–∞–Ω—ñ –Ω–∞ –º—ñ–π –∫–∞–Ω–∞–ª.\n"
            "–ë—É–¥—å –ª–∞—Å–∫–∞, –ø—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è —ñ –ø–æ—Ç—ñ–º –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏.\n\n"
            "üîç <i>–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î –≤–∞—à—É –ø—ñ–¥–ø–∏—Å–∫—É —á–µ—Ä–µ–∑ Telegram API</i>"
        )
        try:
            await update.callback_query.edit_message_text(
                text=warning_text,
                reply_markup=markup,
                parse_mode="HTML"
            )
        except:
            # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
            await context.bot.send_message(
                chat_id=update.effective_chat.id,
                text=warning_text,
                reply_markup=markup,
                parse_mode="HTML"
            )
        return CHECK_SUBSCRIPTION
    else:
        await update.callback_query.answer("‚úÖ –î—è–∫—É—é –∑–∞ –ø—ñ–¥–ø–∏—Å–∫—É! –ü–æ—á–∏–Ω–∞—î–º–æ —Ç–µ—Å—Ç.")
        context.user_data["q"] = 0
        context.user_data["scores"] = []
        try:
            await update.callback_query.message.delete()
        except:
            pass
        return await ask_question(update, context)

# Ask question
async def ask_question(update: Update, context: ContextTypes.DEFAULT_TYPE):
    idx = context.user_data["q"]
    question, answers, _ = QUESTIONS[idx]
    labels = ["A", "B", "C", "D"]
    text = f"*{idx+1} / {len(QUESTIONS)}*\n{question}\n\n"
    for i, ans in enumerate(answers):
        text += f"{labels[i]}. {ans}\n"

    btn_row = [InlineKeyboardButton(labels[i], callback_data=str(i)) for i in range(len(answers))]
    back_btn = InlineKeyboardButton("–ù–∞–∑–∞–¥", callback_data="prev")
    markup = InlineKeyboardMarkup([btn_row, [back_btn]])

    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text=text,
        reply_markup=markup,
        parse_mode="Markdown"
    )
    return ASKING

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
async def show_loading_animation(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"""
    loading_frames = [
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™] 0%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµ‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™] 10%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµ‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™] 20%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµ‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™] 30%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµ‚ö™‚ö™‚ö™‚ö™‚ö™‚ö™] 40%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµ‚ö™‚ö™‚ö™‚ö™‚ö™] 50%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµüîµ‚ö™‚ö™‚ö™‚ö™] 60%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµüîµüîµ‚ö™‚ö™‚ö™] 70%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµüîµüîµüîµ‚ö™‚ö™] 80%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµüîµüîµüîµüîµ‚ö™] 90%",
        "üîÆ –°—á–∏—Ç–∞–µ–º —Ç–≤–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n\n[üîµüîµüîµüîµüîµüîµüîµüîµüîµüîµ] 100%",
        "‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç –≥–æ—Ç–æ–≤! ‚ú®"
    ]
    # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–µ—Ä–≤—ã–π –∫–∞–¥—Ä
    loading_message = await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text=loading_frames[0]
    )
    # –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
    for frame in loading_frames[1:]:
        await asyncio.sleep(0.3)  # –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∫–∞–¥—Ä–∞–º–∏
        try:
            await loading_message.edit_text(frame)
        except:
            # –ï—Å–ª–∏ –Ω–µ —É–¥–∞–ª–æ—Å—å –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å, –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º
            pass
    # –£–¥–∞–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É
    await asyncio.sleep(1)
    try:
        await loading_message.delete()
    except:
        pass

# Handle answer
async def answer_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    # Delete the previous question message so user cannot re-answer it
    try:
        await update.callback_query.message.delete()
    except Exception:
        pass
    choice = int(update.callback_query.data)
    q_i = context.user_data["q"]
    _, _, score_map = QUESTIONS[q_i]
    context.user_data["scores"].append(score_map[choice])
    context.user_data["q"] += 1

    if context.user_data["q"] < len(QUESTIONS):
        return await ask_question(update, context)

    # –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–≥—Ä—É–∑–∫–∏ –ø–µ—Ä–µ–¥ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
    await show_loading_animation(update, context)

    total = sum(context.user_data["scores"])
    avg = total / len(QUESTIONS)
    title = None
    salary = None
    for low, high, lvl, low_sal, high_sal in LEVELS:
        if low <= avg <= high:
            title = lvl
            salary = f"${low_sal:,} ‚Äì ${high_sal:,} /–º–µ—Å (–Ω–µ—Ç—Ç–æ)"
            break

    msg = (
        f"**–ë–∞–ª–∏:** {total} (—Å–µ—Ä–µ–¥–Ω—ñ–π {avg:.2f})\n"
        f"**–†—ñ–≤–µ–Ω—å:** {title}\n"
        f"**–î—ñ–∞–ø–∞–∑–æ–Ω –ó–ü:** {salary}"
    )

    recs = RECOMMENDATIONS.get(title, [])
    if recs:
        msg += "\n\n**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è —Ä–æ–∑–≤–∏—Ç–∫—É:**"
        for i, r in enumerate(recs, 1):
            msg += f"\n{i}. {r}"

    # –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–∫—Ä–µ–º–∏–º –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è–º –∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω–Ω—è–º
    result_header = "üéâ *–í–∞—à —Ä–µ–∑—É–ª—å—Ç–∞—Ç* üéâ"
    formatted_msg = f"{result_header}\n\n{msg}"
    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text=formatted_msg,
        parse_mode="Markdown"
    )

    await asyncio.sleep(5)

    subscribe_btn = InlineKeyboardButton("üîî –ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ –∫–∞–Ω–∞–ª", url=CHANNEL_LINK)
    linkedin_btn = InlineKeyboardButton("LinkedIn", url="https://www.linkedin.com/in/bohdan-svitlyk-960481a0/")
    instagram_btn = InlineKeyboardButton("Instagram", url="https://www.instagram.com/bogdan_svit?igsh=dDdqOXNzOTQ5cHkw")
    markup = InlineKeyboardMarkup([
        [subscribe_btn],
        [linkedin_btn, instagram_btn]
    ])

    await context.bot.send_message(
        chat_id=update.effective_chat.id,
        text=(
            "<b>–î—è–∫—É—é –∑–∞ –ø—Ä–æ—Ö–æ–¥–∂–µ–Ω–Ω—è —Ç–µ—Å—Ç—É!</b>\n\n"
            "–ù–∞ –Ω–∞—à–æ–º—É –∫–∞–Ω–∞–ª—ñ –≤–∏ –∑–Ω–∞–π–¥–µ—Ç–µ:\n"
            "‚Ä¢ –ø–æ—Ä–∞–¥–∏ —â–æ–¥–æ —Ä–æ–∑–≤–∏—Ç–∫—É –∫–∞—Ä‚Äô—î—Ä–∏;\n"
            "‚Ä¢ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏, —â–æ –¥–æ–ø–æ–º–∞–≥–∞—é—Ç—å —É —Ä–æ–±–æ—Ç—ñ —Ç–∞ –ø–æ—à—É–∫—É —Ä–æ–±–æ—Ç–∏;\n"
            "‚Ä¢ –∞–∫—Ç—É–∞–ª—å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏ —Ç–∞ –∫–µ–π—Å–∏.\n\n"
            "–ü—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è, —â–æ–± –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –Ω–æ–≤—ñ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è!\n\n"
            "<b>–ö–æ—Ä–∏—Å–Ω—ñ –º–∞—Ç–µ—Ä—ñ–∞–ª–∏ –∑–∞ –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º–∏:</b>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/11\">–î–µ—Å—è—Ç—å –ø–æ—Ä–∞–¥, —è–∫—ñ —è –± —Å–æ–±—ñ –¥–∞–≤ –Ω–∞ –ø–æ—á–∞—Ç–∫—É –∫–∞—Ä‚Äô—î—Ä–∏</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/26\">–®–∞–±–ª–æ–Ω –¥–ª—è –±–∞–∑–æ–≤–∏—Ö UX-–æ–ø–∏—Ç—É–≤–∞–Ω—å</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/55\">‚ÄúChatGPT –¥–ª—è –≤–µ–±–¥–∏–∑–∞–π–Ω–µ—Ä—ñ–≤‚Äù</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/68\">PDF-–≥–∞–π–¥ ¬´UI-–¥–∏–∑–∞–π–Ω –∑ –Ω—É–ª—è¬ª</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/69\">–®–∞–±–ª–æ–Ω –ø–æ—Ä—Ç—Ñ–æ–ª—ñ–æ –≤ Notion</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/74\">–ì–∞–π–¥ –¥–ª—è —Ç–∏—Ö, —Ö—Ç–æ —Ö–æ—á–µ –≤–≤—ñ—Ä–≤–∞—Ç–∏—Å—è –≤ UX-–¥–∏–∑–∞–π–Ω</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/77\">–ü—Ä–æ—Å—Ç–∏–π –≥–∞–π–¥ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é: Figma Grid</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/87\">–Ø–∫ –¥–∏–∑–∞–π–Ω–µ—Ä—É –≤–∏—Ä–æ—Å—Ç–∏ –¥–æ –Ω–æ–≤–æ–≥–æ —Ä—ñ–≤–Ω—è: 7 –∫—Ä–æ–∫—ñ–≤ –¥–æ —É—Å–ø—ñ—Ö—É</a>\n"
            "üîπ <a href=\"https://t.me/digitaI_age/99\">18 –ø—Ä–∞–∫—Ç–∏—á–Ω–∏—Ö —ñ–¥–µ–π (–ø—Ä–æ–º–ø—Ç—ñ–≤) –¥–ª—è –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è AI —É –¥–∏–∑–∞–π–Ω—ñ</a>\n\n"
            "‚∏ª\n"
            "–ü—ñ–¥–ø–∏—à—ñ—Ç—å—Å—è –Ω–∞ –∫–∞–Ω–∞–ª, —â–æ–± –Ω–µ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ –≥–∞–π–¥–∏, —à–∞–±–ª–æ–Ω–∏ —Ç–∞ –∫–µ–π—Å–∏!"
        ),
        reply_markup=markup,
        parse_mode="HTML"
    )
    return ConversationHandler.END

# Handle "–ù–∞–∑–∞–¥"
async def prev_callback(update: Update, context: ContextTypes.DEFAULT_TYPE):
    await update.callback_query.answer()
    # Delete the current question message before showing the previous one
    try:
        await update.callback_query.message.delete()
    except Exception:
        pass
    if context.user_data["q"] > 0:
        context.user_data["q"] -= 1
        context.user_data["scores"].pop()
    return await ask_question(update, context)

# Cancel
async def cancel(update: Update, context: ContextTypes.DEFAULT_TYPE):
    clear_user_data(context)
    await update.message.reply_text("–û–ø–∏—Ç—É–≤–∞–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ.", reply_markup=ReplyKeyboardRemove())
    return ConversationHandler.END

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –ª—é–±—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –≤–Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
async def handle_unknown_message(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏—Ö–æ–¥—è—Ç –≤–Ω–µ conversation handler"""
    await update.message.reply_text(
        "–ü—Ä–∏–≤—ñ—Ç! –©–æ–± –ø–æ—á–∞—Ç–∏ —Ç–µ—Å—Ç, –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å /start",
        reply_markup=ReplyKeyboardRemove()
    )

# –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
async def error_handler(update: object, context: ContextTypes.DEFAULT_TYPE) -> None:
    """–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏"""
    logging.error(f"Exception while handling an update: {context.error}")
    # –ï—Å–ª–∏ —ç—Ç–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ—á–∏—â–∞–µ–º –µ–≥–æ –¥–∞–Ω–Ω—ã–µ
    if isinstance(update, Update) and update.effective_user:
        clear_user_data(context)

# Main
async def health(request):
    return aiohttp.web.Response(text="OK")

async def start_health_server():
    if aiohttp is None:
        return
    app = aiohttp.web.Application()
    app.router.add_get('/health', health)
    runner = aiohttp.web.AppRunner(app)
    await runner.setup()
    site = aiohttp.web.TCPSite(runner, '0.0.0.0', 8080)
    await site.start()

async def main():
    application = Application.builder().token(TOKEN).build()

    # Conversation handler
    conv = ConversationHandler(
        entry_points=[CommandHandler("start", start)],
        states={
            WAIT_START: [CallbackQueryHandler(begin_callback, pattern="^begin$")],
            ASKING: [
                CallbackQueryHandler(answer_callback, pattern="^[0-9]$"),
                CallbackQueryHandler(prev_callback, pattern="^prev$"),
            ],
            CHECK_SUBSCRIPTION: [
                CallbackQueryHandler(check_subscription_callback, pattern="^check_sub$")
            ],
        },
        fallbacks=[CommandHandler("start", start)],
    )
    application.add_handler(conv)
    application.add_handler(CommandHandler("start", start))

    await application.run_polling()

if __name__ == "__main__":
    import asyncio
    asyncio.get_event_loop().create_task(main())
    asyncio.get_event_loop().run_forever()
